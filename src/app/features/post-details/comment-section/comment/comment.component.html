<div class="d-flex flex-column gap-3 p-3 border border-2 border-white border-opacity-25 rounded-5">
    <div class="d-flex flex-column gap-2 p-3 justify-content-evenly">
        <h5>
            By {{ comment?.user?.username}}
        </h5>
        <p class="fs-5 text-wrap text-start">
            {{ comment?.text}}
        </p>
    </div>
    <div class="d-flex flex-row align-items-center align-content-center">
        <button class="btn upvote-btn bg-dark bg-opacity-75 rounded-circle">
            <i class="bi bi-arrow-up fs-4"></i>
        </button>
        <button class="btn downvote-btn bg-dark bg-opacity-75 rounded-circle">
            <i class="bi bi-arrow-down fs-4"></i>
        </button>
        <span class="text-center border-danger fs-4 px-2"
            [ngClass]="[comment?.voteTally! >= 0 ? 'upvoted-tally' : 'downvoted-tally']">
            {{ comment?.voteTally }}
        </span>
        <button class="btn text-center fs-4 px-2 bg-dark rounded-5 p-2" (click)="replyBtnClick()">
            <i class="bi bi-chat rounded-circle "></i>
            Reply
        </button>
    </div>

    <div class="d-flex flex-column gap-2 ms-3 p-4 d-none" #createReplyDiv>
        <form #createCommentReplyForm="ngForm" (ngSubmit)="createCommentSubmit(createCommentReplyForm)">
            <div class="form-group d-flex flex-column gap-2">
                <label for="text" class="form-label fs-5">Share your thoughts</label>
                <textarea name="text" [(ngModel)]="newCommentReply.text"
                    class="form-control-lg flex-grow-2 bg-dark text-white" placeholder="Reply..." rows="1"></textarea>
                <button class="align-self-end flex-grow 1 btn btn-lg btn-success p-3 align-self-end"
                    type="submit">Post</button>
            </div>
        </form>
    </div>
    <div>
        <app-comment-replies (onReplyDelete)="deleteReply($event)" [replies]="comment!.replies" />
    </div>
</div>